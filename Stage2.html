<!DOCTYPE html>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<head>
<title>CTF ANTS Challenge </title>
<script>
    function goToStage2() {
        // Change "another-page.html" to the URL of the page you want to navigate to
        window.location.href = "Stage2.html";
    }
    function goToHome() {
        // Change "another-page.html" to the URL of the page you want to navigate to
        window.location.href = "CTF_ANT.html";
    }

    window.onload = function() {
    var codeForDelay = "01101011111010110";
    var textToPrint = "11101011111101011"; 
    var container = document.getElementById('container');
    var index = 0;

    function printCharacter() {
        if (index < textToPrint.length) {
            // Delay for each bit
            var delay = codeForDelay[index] === "0" ? 500 : 1500; 
            container.innerHTML += textToPrint[index];
            index++;
            setTimeout(printCharacter, delay);
        } else {
            setTimeout(function() {
                index = 0;
                container.innerHTML = ''; 
                setTimeout(printCharacter, 5000); // restart after 5 seconds
            }, 5000); // Characters stay for 5 seconds
        }
        }

        printCharacter();
    }

    var inputValid=false
    function checkInput() {
        var expectedValue = "10000000000000001"; 
        var inputElement = document.getElementById("exampleFormControlInput1");
        var inputValue = inputElement.value;
        console.log("Input value: ", inputValue); 

        if (inputValue === expectedValue) {
            alert("Congrats you got it! Lets go to stage 2");
            inputValid = true; // Set the validation result to true
        } else {
            inputValid = false; // Set the validation result to false
        }
    }

    function handleButtonClick(){
        checkInput();
        if (inputValid){
            goToStage2();
        }
        else{
            alert("Wrong answer! Try again!")
        }
    }
</script>

</head>
<body>

<h1>CTF ANTS Challenge</h1>
<p></p>
<h3>Stage 2: The queen loves rotten sweet apricots</h3>
<div class="message">
    <p>In the realm where shadows dance,</p>
    <p>A hidden path, a fleeting glance.</p>
    <p>Two keys await, one seen, one veiled,</p>
    <p>A twisted trail, oft sought and failed.</p>
    <p>The first lies open, a riddle's start,</p>
    <p>A gateway's promise, a seeker's art.</p>
    <p>The second's hidden, a fortress strong,</p>
    <p>A secret whispered in cipher's song.</p>
    <p>Forge the path with wisdom's might,</p>
    <p>Through endless maze and digital night.</p>
    <p>Time's a foe, and clues are few,</p>
    <p>Crack the code, and truth pursue.</p>
    <p>In numbers, patterns, lies the way,</p>
    <p>A fleeting game, a puzzle's play.</p>
    <p>Seek the keys, unlock the lore,</p>
    <p>Find what's hidden behind the door.</p>
</div>

<div id="container" style="text-align: center; font-size:60px;"></div>
<form>
    <div class="form-group">
      <label for="exampleFormControlInput1">Decrypted Text</label>
      <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="abcd1234">
    </div>
</form>



<button type="button" onclick="handleButtonClick()" class="btn btn-primary">Next</button>
<button type="button" onclick="goToHome()" class="btn btn-light">Back</button>

</body>
</html>
